<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sales Forecasting (Time-Series) | Arc Innovations</title>

  <!-- Site CSS -->
  <link rel="stylesheet" href="../style.css?v=20250910a"/>

  <!-- SEO -->
  <meta name="description" content="End-to-end time-series forecasting to predict weekly sales; feature engineering, rolling cross-validation, and a Power BI dashboard."/>
  <link rel="canonical" href="https://www.arcinnovations.it/sales-forecasting/index.html"/>

  <!-- Social -->
  <meta property="og:title" content="Sales Forecasting (Time-Series) | Arc Innovations">
  <meta property="og:description" content="Predict weekly sales across products and locations. MAPE/WAPE tracked, dashboards in Power BI.">
  <meta property="og:url" content="https://www.arcinnovations.it/sales-forecasting/index.html">
  <meta property="og:image" content="https://www.arcinnovations.it/sales-forecasting/thumbnail.png">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Small page-only helpers -->
  <style>
    .sf-pillbox .tag{margin:6px 6px 0 0}
    .sf-kpis{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .sf-kpi{background:#fff;border:1px solid #eee;border-radius:12px;padding:14px;text-align:center}
    .sf-kpi .value{font-weight:700;font-size:1.25rem;color:#18d872}
    .sf-figure{background:#fafafa;border:1px solid #eee;border-radius:12px;padding:14px;margin:18px 0}
    .sf-arch svg{max-width:100%}
  </style>
</head>
<body class="article-body">
  <!-- reading progress -->
  <div id="read-progress"></div>

  <!-- back to portfolio (matches other case studies) -->
  <nav class="article-nav">
    <ul><li><a href="../portfolio.html">← Portfolio</a></li></ul>
  </nav>

  <main class="article-wrap">
    <header class="article-header">
      <h1>Sales Forecasting (Time-Series)</h1>
      <p class="article-subtitle">
        Predict weekly sales across products & locations using classical + ML models; enable inventory and promo planning.
      </p>
      <p class="article-meta">Arc Innovations · 2025 · Python · Prophet/SARIMA · XGBoost · Power BI</p>
    </header>

    <figure class="article-figure">
      <img src="dashboard.png" alt="Power BI sales forecasting dashboard with forecast and actuals">
      <figcaption>Forecast dashboard: point forecasts, intervals, and error tracking (BI).</figcaption>
    </figure>

    <section>
      <h2>Overview</h2>
      <p>
        We built a forecasting pipeline that learns seasonality, promotions, holidays, and price elasticity to predict
        weekly sales per product–location. A Power BI dashboard visualizes forecasts, uncertainty, and bias, helping
        planners align inventory and campaigns.
      </p>
      <div class="sf-pillbox">
        <span class="tag">Time-Series CV</span>
        <span class="tag">Lag/Window Features</span>
        <span class="tag">Hierarchical Aggregation</span>
        <span class="tag">Deployment to BI</span>
      </div>
    </section>

    <section>
      <h2>Data</h2>
      <ul>
        <li>Grain: weekly <em>product × store</em> (3–5 years history)</li>
        <li>Signals: calendar, holidays, promos, prices, weather, stockouts</li>
        <li>Targets: units and/or revenue; forecast horizon typically 8–12 weeks</li>
      </ul>
    </section>

    <section>
      <h2>Approach</h2>
      <ul>
        <li><strong>Baselines:</strong> Naïve, seasonal naïve, ETS.</li>
        <li><strong>Classical:</strong> SARIMA / Prophet for strong weekly/annual seasonality.</li>
        <li><strong>ML:</strong> Gradient boosting (XGBoost) with lags, rolling means, promo/price features.</li>
        <li><strong>Validation:</strong> Rolling-origin time-series CV; metrics: MAPE/WAPE/sMAPE/RMSE.</li>
        <li><strong>Ensemble:</strong> Blend classical + ML per series based on validation rank.</li>
      </ul>

<pre class="code-block"><code># sketch: lag/window features for ML
def add_lag_feats(df, lags=(1,2,3,4,5,6,7,14,28), windows=(7,28)):
    for L in lags:
        df[f"y_lag_{L}"] = df.groupby(["store","sku"])["y"].shift(L)
    for W in windows:
        df[f"y_ma_{W}"]  = (df.groupby(["store","sku"])["y"]
                             .shift(1).rolling(W, min_periods=1).mean())
    return df
</code></pre>

<pre class="code-block"><code># sketch: rolling-origin cross-validation
def rolling_cv(df, n_folds=4, horizon=8):
    folds = []
    end = df["ds"].max()
    for k in range(n_folds):
        cutoff = end - pd.Timedelta(weeks=(n_folds-k)*horizon)
        tr = df[df["ds"] <= cutoff]
        va = df[(df["ds"] > cutoff) & (df["ds"] <= cutoff + pd.Timedelta(weeks=horizon))]
        folds.append((tr, va))
    return folds
</code></pre>
    </section>

    <section class="sf-kpis">
      <div class="sf-kpi"><div class="value">↓ 27%</div><div class="article-subtitle">MAPE vs baseline</div></div>
      <div class="sf-kpi"><div class="value">↓ 18%</div><div class="article-subtitle">WAPE vs last season</div></div>
      <div class="sf-kpi"><div class="value">± 9.3%</div><div class="article-subtitle">Avg. forecast band</div></div>
    </section>

    <figure class="article-figure">
      <img src="residuals.png" alt="Residual analysis and seasonal decomposition">
      <figcaption>Residuals & decomposition: checking bias and remaining seasonality.</figcaption>
    </figure>

    <section class="sf-figure sf-arch">
      <h3 class="article-subtitle" style="margin-bottom:8px;">Architecture (simplified)</h3>
      <svg viewBox="0 0 900 220" role="img" aria-label="Sales forecasting architecture">
        <defs>
          <style>
            .box{fill:#fff;stroke:#cfd8dc;stroke-width:1.2}
            .t{font:700 12px system-ui,-apple-system,Segoe UI,Roboto,Arial}
            .s{font:400 12px system-ui,-apple-system,Segoe UI,Roboto,Arial}
            .ln{stroke:#90a4ae;stroke-width:1.2;marker-end:url(#a)}
          </style>
          <marker id="a" markerWidth="10" markerHeight="10" refX="6" refY="3" orient="auto">
            <path d="M0,0 L0,6 L6,3 z" fill="#90a4ae"/>
          </marker>
        </defs>
        <rect class="box" x="20" y="20" width="210" height="70" rx="10"/>
        <text class="t" x="30" y="42">Data Sources</text>
        <text class="s" x="30" y="62">POS, promos, prices, weather</text>

        <line class="ln" x1="230" y1="55" x2="350" y2="55"/>
        <rect class="box" x="350" y="20" width="210" height="70" rx="10"/>
        <text class="t" x="360" y="42">Feature Build</text>
        <text class="s" x="360" y="62">lags, windows, holidays</text>

        <line class="ln" x1="560" y1="55" x2="780" y2="55"/>
        <rect class="box" x="780" y="20" width="100" height="70" rx="10"/>
        <text class="t" x="790" y="42">Models</text>
        <text class="s" x="790" y="62">Prophet/XGB</text>

        <line class="ln" x1="455" y1="90" x2="455" y2="165"/>
        <rect class="box" x="350" y="165" width="210" height="70" rx="10"/>
        <text class="t" x="360" y="187">Batch Forecast</text>
        <text class="s" x="360" y="207">CSV/Parquet to BI</text>
      </svg>
      <p class="article-subtitle" style="color:#666;margin-top:8px;">
        Jobs scheduled; forecasts published to BI with versioned artifacts.
      </p>
    </section>

    <section>
      <h2>Tech Stack</h2>
      <p>Python · Pandas · Prophet / SARIMA · XGBoost · scikit-learn · Power BI · (optional) Power Automate</p>
    </section>

    <hr class="soft-divider"/>

    <div class="article-cta">
      <a class="cta-button" href="../portfolio.html">← Back to Portfolio</a>
      <a class="cta-outline" href="mailto:info@arcinnovations.it">Discuss forecasting for your data</a>
    </div>
  </main>

  <footer class="article-footer">© 2025 Arc Innovations — Analytics</footer>

  <script>
    (function(){
      const bar=document.getElementById('read-progress'); if(!bar) return;
      const onScroll=()=>{const h=document.documentElement,b=document.body,st=h.scrollTop||b.scrollTop,sh=h.scrollHeight||b.scrollHeight,ch=h.clientHeight;bar.style.width=Math.min(100,Math.max(0,(st/(sh-ch))*100))+'%';};
      document.addEventListener('scroll',onScroll,{passive:true}); onScroll();
    })();
  </script>
</body>
</html>
